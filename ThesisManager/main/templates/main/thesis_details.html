{% extends "main/base.html" %}

{% block page_title %}{{ thesis.title|title }}{% endblock %}

{% block main_body %}
    {% if thesis %}
        <ul class='thesis_desc'>
            <li class='thesis_block'>
                <h2 class="thesis_title">{{ thesis.title|title }}</h2>
                <hr>
    
                <p class='more_info'>Topic Number: {{ thesis.topic_number }}</p>
                <hr>
                <div class='supervisor'> 
                    <p class='more_info'>Supervisor:</p>
                    <p class='supervisor_name'>{{ thesis.supervisor }}</p>
                </div>
                <hr>
                <p class='more_info'>Description:</p>
                <p class='description'>{{ thesis.description }}</p>
                <hr>
                <div class='supervisor'> 
                    <p class='more_info'>Category:</p>
                    <p class='category'>{{ thesis.category }}</p>
                </div>
                <hr>
            </li>
        </ul>
    {% else %}
        <div class="error_message">
            <h2>{{ error_message }}</h2>
            <p><em>Please input a valid thesis number and try again.</em></p>
        </div>
    {% endif %}

    <div class="go_back">
        <form method="post" action="{% url 'previous_page' %}">
            {% csrf_token %}
            <input type="hidden" name="previous_page" value="{% if request.META.HTTP_REFERER %}{{ request.META.HTTP_REFERER }}{% else %}/{% endif %}">
            <button type="submit">Go Back</button>
        </form>
    </div>
    <div class="other_thesis">
        <h2>See other Thesis</h2>
        <ul class='all_theses'>
            {% for thesis in random_theses %}
                <li class='other_thesis_title'>
                    <h3><a href="{% url 'thesis_details' topic_number=thesis.topic_number %}">{{ thesis.title|title }}</a></h3>
                </li>
            {% endfor %}
        </ul>
    </div>
{% endblock %}
